Eonil/LLDBWrapper
=================
Hoon H.

2014/09/07
2015/01/20

**CURRENTLY WORK IN PROGRESS**

**DOCUMENTATION IS NOT ACCURATE NOR IN SYNC**


This is a wrapper of LLDB's public C++ API.
Wrapped in Objective-C++, and complemented in Swift. 
Intended to be used in Swift.

Named as `LLDBWrapper` to avoid possible name conflict with any existing system LLDB stuffs.
(I mean Xcode version)



Caution
-------
Though this framework originally intended to work with open-sourced LLDB build, but there were
two problems.

-	Building of LLDB takes too much. And you are very likely to have several build issues. 
	(such as code signing)

-	Built binary is very large. It usually takes hundred megabytes. Then it also cannot be
	included in Git repository. (Github allows only files up to about 100MiB)

To avoid these problems, this project currently contains a "fake" prebuilt `LLDB.framework`. 
This is fake because this symlinks to binaries of LLDB.framework shipped within Xcode. Anyway 
this fake framework is required to expose header files in build process.

This means this library will dynamically link to Xcode's LLDB component, and you may have
some troubles due to Xcode versions another C++ binary code interfacing issues. 

If you want, you can link to your own build of LLDB by changing link settings. (such as 
`LD_RUNPATH_SEARCH_PATHS`) Linking to Xcode component is just current decision, and can be 
changed later.

Currently, enum constant values are explicitly designated. These values are generated by Clang
library, but I think this is not truly reliable. This will be changed to mapping later. I believe
Clang will eliminate any mapping cost if thier values are fully same.





Lessons from History
--------------------
-	I have tried to generate SWIG-like C API from C++ source code, but I realised it require 
	too much work, and I don't have such time. DO NOT TRY THIS AT HOME EVER AGAIN.








Wrapping Design Choices
-----------------------
-	Only valid API object will become an Objective-C object. (`IsValid() == true`) Invalid object
	must become `nil`.

-	Equality and comparison operators will be provided as proper corresponding Objective-C methods.

-	Identity of Objective-C object has no meaning. Do not rely on it. Generally, there's no generic 
	identity check. Anyway some equality check provides identity check case by case.

-	Use numeric types as is as much as possible. Convert them in Swift-side extensions where needed.

-	Strings will always be passed by copying into a new `NSString`. Raw C-string pointer can be 
	provided where requested.

-	Enum constant values are all explicitly specified. These are auto-generated from C++ source 
	files using Clang library. So it must have correct value.

-	No exception. (1) To be used with Swift. (2) I don't think exceptions are truly good one.
	Wrapper method must return a proper error or crash reliably.








License
-------
This project is licensed under "MIT License". That is limited only to my works. This project
contains files from LLVM/LLDB projects that are licensed under 
"University of Illinois/NCSA Open Source License". Product of this project will be dynamically
linked to some components of Xcode if there is one exists at runtime. I DO NOT redistribute
those components. So I don't think this linkage would not cause any license issue, but anyway, 
I am not a laywer. If you think something is wrong, please let me know.



